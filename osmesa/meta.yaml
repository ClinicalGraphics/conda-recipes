package:
  name: osmesa
  version: 12.2.2.dev

source:
  fn: mesa-12.2.2.dev.zip
  url: https://github.com/menpo/mesa/archive/expose_attrib.zip

requirements:
  build:
    - python 2.7*
    - mako
    - llvm
    - toolchain # [unix]
    - pkg-config # [unix]
    - autoconf # [unix]
    - pthread-stubs # [unix] # for version 12.0.1
    - automake # [unix]
    - libtool # [unix]
    - m4 # [unix]
    - flex  # [unix]
    - bison  # [unix]
    - glproto # [unix]

test:
  commands:
    - test -f $PREFIX/lib/libOSMesa.dylib  # [osx]
    - test -f $PREFIX/lib/libOSMesa.so     # [linux]

about:
  home: http://www.mesa3d.org/
  license: MIT + Others
