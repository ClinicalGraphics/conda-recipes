{% set version = "2.4.0" %}

package:
  name: pytest-cov
  version: {{ version }}

source:
  fn: pytest-cov-{{version}}.tar.gz
  url: https://pypi.io/packages/source/p/pytest-cov/pytest-cov-{{version}}.tar.gz

build:
    script: python setup.py install --single-version-externally-managed --record record.txt
    number: 0
    noarch_python: True

requirements:
  build:
    - python
    - setuptools

  run:
    - python
    - setuptools
    - pytest
    - coverage

test:
  commands:
    - "py.test --traceconfig | grep pytest-cov-{{version}}"  # [not win]

about:
  home: https://github.com/pytest-dev/pytest-cov
  license: MIT
  summary: 'Pytest plugin for measuring coverage'
